{"version":3,"file":"packbits.1e87d104.js","sources":["../../node_modules/.pnpm/geotiff@1.0.8/node_modules/geotiff/src/compression/packbits.js"],"sourcesContent":["import BaseDecoder from './basedecoder';\n\nexport default class PackbitsDecoder extends BaseDecoder {\n  decodeBlock(buffer) {\n    const dataView = new DataView(buffer);\n    const out = [];\n\n    for (let i = 0; i < buffer.byteLength; ++i) {\n      let header = dataView.getInt8(i);\n      if (header < 0) {\n        const next = dataView.getUint8(i + 1);\n        header = -header;\n        for (let j = 0; j <= header; ++j) {\n          out.push(next);\n        }\n        i += 1;\n      } else {\n        for (let j = 0; j <= header; ++j) {\n          out.push(dataView.getUint8(i + j + 1));\n        }\n        i += header + 1;\n      }\n    }\n    return new Uint8Array(out).buffer;\n  }\n}\n"],"names":[],"mappings":"8CAEe,eAA8B,EAAY,CACvD,YAAY,EAAQ,CAClB,KAAM,GAAW,GAAI,UAAS,GACxB,EAAM,GAEZ,OAAS,GAAI,EAAG,EAAI,EAAO,WAAY,EAAE,EAAG,CAC1C,GAAI,GAAS,EAAS,QAAQ,GAC9B,GAAI,EAAS,EAAG,CACd,KAAM,GAAO,EAAS,SAAS,EAAI,GACnC,EAAS,CAAC,EACV,OAAS,GAAI,EAAG,GAAK,EAAQ,EAAE,EAC7B,EAAI,KAAK,GAEX,GAAK,MACA,CACL,OAAS,GAAI,EAAG,GAAK,EAAQ,EAAE,EAC7B,EAAI,KAAK,EAAS,SAAS,EAAI,EAAI,IAErC,GAAK,EAAS,GAGlB,MAAO,IAAI,YAAW,GAAK"}